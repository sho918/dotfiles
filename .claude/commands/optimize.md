Analyze this code for performance issues and suggest optimizations:
